<html><head><title>box-2d!</title><script src="nav.js"></script><link href="highlight.css" rel="stylesheet" /><link href="main.css" rel="stylesheet" /></head><body><div class="content"><div class="item"><div class="clj"><div class="c-head"><a href="index.html#g2d-physics.box-2d!.html" target="_top">(box-2d! screen k & options)</a></div><div class="c-doc"><p>Calls a single method on a <code>box-2d</code>.</p></div></div><div class="c-head">Options</div><div class="java"><div class="j-item"><span class="j-name">:clear-forces</span><span class="j-args"></span><div class="j-doc">Manually clear the force buffer on all bodies. By default, forces are cleared automatically after each call to Step. The
 default behavior is modified by calling SetAutoClearForces. The purpose of this function is to support sub-stepping.
 Sub-stepping is often used to maintain a fixed sized time step under a variable frame-rate. When you perform sub-stepping
 you will disable auto clearing of forces and instead call ClearForces after all sub-steps are complete in one pass of your
 game loop. {@link #setAutoClearForces(boolean)}</div></div><div class="j-item"><span class="j-name">:create-body</span><span class="j-args"><span class="j-arg"><span class="j-type">^BodyDef</span> def</span></span><div class="j-doc">Create a rigid body given a definition. No reference to the definition is retained.
 Bodies created by this method are pooled internally by the World object.
 They will be freed upon calling {@link World#destroyBody(Body)}</div></div><div class="j-item"><span class="j-name">:create-joint</span><span class="j-args"><span class="j-arg"><span class="j-type">^JointDef</span> def</span></span><div class="j-doc">Create a joint to constrain bodies together. No reference to the definition is retained. This may cause the connected bodies
 to cease colliding.</div></div><div class="j-item"><span class="j-name">:destroy-body</span><span class="j-args"><span class="j-arg"><span class="j-type">^Body</span> body</span></span><div class="j-doc">Destroy a rigid body given a definition. No reference to the definition is retained. This function is locked during
 callbacks.</div></div><div class="j-item"><span class="j-name">:destroy-joint</span><span class="j-args"><span class="j-arg"><span class="j-type">^Joint</span> joint</span></span><div class="j-doc">Destroy a joint. This may cause the connected bodies to begin colliding.</div></div><div class="j-item"><span class="j-name">:dispose</span><span class="j-args"></span></div><div class="j-item"><span class="j-name">:get-auto-clear-forces</span><span class="j-args"></span><div class="j-doc">Get the flag that controls automatic clearing of forces after each time step.</div></div><div class="j-item"><span class="j-name">:get-bodies</span><span class="j-args"><span class="j-arg"><span class="j-type">^com.badlogic.gdx.utils.Array</span> bodies</span></span></div><div class="j-item"><span class="j-name">:get-body-count</span><span class="j-args"></span><div class="j-doc">Get the number of bodies.</div></div><div class="j-item"><span class="j-name">:get-contact-count</span><span class="j-args"></span><div class="j-doc">Get the number of contacts (each may have 0 or more contact points).</div></div><div class="j-item"><span class="j-name">:get-contact-list</span><span class="j-args"></span><div class="j-doc">Returns the list of {@link Contact} instances produced by the last call to {@link #step(float, int, int)}. Note that the
 returned list will have O(1) access times when using indexing. contacts are created and destroyed in the middle of a time
 step. Use {@link ContactListener} to avoid missing contacts</div></div><div class="j-item"><span class="j-name">:get-fixture-count</span><span class="j-args"></span><div class="j-doc">Get the number of fixtures.</div></div><div class="j-item"><span class="j-name">:get-fixtures</span><span class="j-args"><span class="j-arg"><span class="j-type">^com.badlogic.gdx.utils.Array</span> fixtures</span></span></div><div class="j-item"><span class="j-name">:get-gravity</span><span class="j-args"></span></div><div class="j-item"><span class="j-name">:get-joint-count</span><span class="j-args"></span><div class="j-doc">Get the number of joints.</div></div><div class="j-item"><span class="j-name">:get-joints</span><span class="j-args"><span class="j-arg"><span class="j-type">^com.badlogic.gdx.utils.Array</span> joints</span></span></div><div class="j-item"><span class="j-name">:get-proxy-count</span><span class="j-args"></span><div class="j-doc">Get the number of broad-phase proxies.</div></div><div class="j-item"><span class="j-name">:is-locked</span><span class="j-args"></span><div class="j-doc">Is the world locked (in the middle of a time step).</div></div><div class="j-item"><span class="j-name">:query-a-a-b-b</span><span class="j-args"><span class="j-arg"><span class="j-type">^QueryCallback</span> callback</span>, <span class="j-arg"><span class="j-type">^float</span> lower-x</span>, <span class="j-arg"><span class="j-type">^float</span> lower-y</span>, <span class="j-arg"><span class="j-type">^float</span> upper-x</span>, <span class="j-arg"><span class="j-type">^float</span> upper-y</span></span><div class="j-doc">Query the world for all fixtures that potentially overlap the provided AABB.</div></div><div class="j-item"><span class="j-name">:ray-cast</span><span class="j-args"><span class="j-arg"><span class="j-type">^RayCastCallback</span> callback</span>, <span class="j-arg"><span class="j-type">^Vector2</span> point1</span>, <span class="j-arg"><span class="j-type">^Vector2</span> point2</span></span><div class="j-doc">Ray-cast the world for all fixtures in the path of the ray. The ray-cast ignores shapes that contain the starting point.</div></div><div class="j-item"><span class="j-name">:ray-cast</span><span class="j-args"><span class="j-arg"><span class="j-type">^RayCastCallback</span> callback</span>, <span class="j-arg"><span class="j-type">^float</span> point1-x</span>, <span class="j-arg"><span class="j-type">^float</span> point1-y</span>, <span class="j-arg"><span class="j-type">^float</span> point2-x</span>, <span class="j-arg"><span class="j-type">^float</span> point2-y</span></span><div class="j-doc">Ray-cast the world for all fixtures in the path of the ray. The ray-cast ignores shapes that contain the starting point.</div></div><div class="j-item"><span class="j-name">:set-auto-clear-forces</span><span class="j-args"><span class="j-arg"><span class="j-type">^boolean</span> flag</span></span><div class="j-doc">Set flag to control automatic clearing of forces after each time step.</div></div><div class="j-item"><span class="j-name">:set-contact-filter</span><span class="j-args"><span class="j-arg"><span class="j-type">^ContactFilter</span> filter</span></span><div class="j-doc">Register a contact filter to provide specific control over collision. Otherwise the default filter is used
 (b2_defaultFilter). The listener is owned by you and must remain in scope.</div></div><div class="j-item"><span class="j-name">:set-contact-listener</span><span class="j-args"><span class="j-arg"><span class="j-type">^ContactListener</span> listener</span></span><div class="j-doc">Register a contact event listener. The listener is owned by you and must remain in scope.</div></div><div class="j-item"><span class="j-name">:set-continuous-physics</span><span class="j-args"><span class="j-arg"><span class="j-type">^boolean</span> flag</span></span><div class="j-doc">Enable/disable continuous physics. For testing.</div></div><div class="j-item"><span class="j-name">:set-destruction-listener</span><span class="j-args"><span class="j-arg"><span class="j-type">^DestructionListener</span> listener</span></span><div class="j-doc">Register a destruction listener. The listener is owned by you and must remain in scope.</div></div><div class="j-item"><span class="j-name">:set-gravity</span><span class="j-args"><span class="j-arg"><span class="j-type">^Vector2</span> gravity</span></span><div class="j-doc">Change the global gravity vector.</div></div><div class="j-item"><span class="j-name">:set-warm-starting</span><span class="j-args"><span class="j-arg"><span class="j-type">^boolean</span> flag</span></span><div class="j-doc">Enable/disable warm starting. For testing.</div></div><div class="j-item"><span class="j-name">:step</span><span class="j-args"><span class="j-arg"><span class="j-type">^float</span> time-step</span>, <span class="j-arg"><span class="j-type">^int</span> velocity-iterations</span>, <span class="j-arg"><span class="j-type">^int</span> position-iterations</span></span><div class="j-doc">Take a time step. This performs collision detection, integration, and constraint solution.</div></div></div><div class="c-head">Source</div><div class="c-src"><pre>(defmacro box-2d!
  [screen k & options]
  `(let [object# (u/get-obj ~screen :world)]
     (u/call! object# ~k ~@options)))</pre></div></div></div><script src="highlight.js"></script><script src="main.js"></script></body></html>