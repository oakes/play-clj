<html><head><title>joint-def</title><script src="nav.js"></script><link href="highlight.css" rel="stylesheet" /><link href="main.css" rel="stylesheet" /></head><body><div class="content"><div class="item"><div class="clj"><div class="c-head"><a href="index.html#g2d-physics.joint-def.html" target="_top">(joint-def k & options)</a></div><div class="c-doc"><p>Returns a subclass of <a href='http://libgdx.badlogicgames.com/nightlies/docs/api/com/badlogic/gdx/physics/box2d/JointDef.html'>JointDef</a>.</p><pre>
&#40;joint-def :rope&#41;
</pre></div></div><div class="c-head">Options</div><div class="j-text">Wheel joint definition. This requires defining a line of motion using an axis and an anchor point. The definition uses local
 anchor points and a local axis so that the initial configuration can violate the constraint slightly. The joint translation is
 zero when the local anchor points coincide in world space. Using local anchors and a local axis helps when saving and loading a
 game.</div><div class="java"><div class="j-item"><span class="j-name">:wheel :damping-ratio</span><span class="j-args"><span class="j-arg"><span class="j-type">^float</span> value</span></span><div class="j-doc">Suspension damping ratio, one indicates critical damping</div></div><div class="j-item"><span class="j-name">:wheel :enable-motor</span><span class="j-args"><span class="j-arg"><span class="j-type">^boolean</span> value</span></span><div class="j-doc">Enable/disable the joint motor.</div></div><div class="j-item"><span class="j-name">:wheel :frequency-hz</span><span class="j-args"><span class="j-arg"><span class="j-type">^float</span> value</span></span><div class="j-doc">Suspension frequency, zero indicates no suspension</div></div><div class="j-item"><span class="j-name">:wheel :local-anchor-a</span><span class="j-args"><span class="j-arg"><span class="j-type">^Vector2</span> value</span></span><div class="j-doc">The local anchor point relative to body1's origin.</div></div><div class="j-item"><span class="j-name">:wheel :local-anchor-b</span><span class="j-args"><span class="j-arg"><span class="j-type">^Vector2</span> value</span></span><div class="j-doc">The local anchor point relative to body2's origin.</div></div><div class="j-item"><span class="j-name">:wheel :local-axis-a</span><span class="j-args"><span class="j-arg"><span class="j-type">^Vector2</span> value</span></span><div class="j-doc">The local translation axis in body1.</div></div><div class="j-item"><span class="j-name">:wheel :max-motor-torque</span><span class="j-args"><span class="j-arg"><span class="j-type">^float</span> value</span></span><div class="j-doc">The maximum motor torque, usually in N-m.</div></div><div class="j-item"><span class="j-name">:wheel :motor-speed</span><span class="j-args"><span class="j-arg"><span class="j-type">^float</span> value</span></span><div class="j-doc">The desired motor speed in radians per second.</div></div></div><div class="j-text"></div><div class="java"><div class="j-item"><span class="j-name">:weld :damping-ratio</span><span class="j-args"><span class="j-arg"><span class="j-type">^float</span> value</span></span><div class="j-doc">The damping ratio. 0 = no damping, 1 = critical damping.</div></div><div class="j-item"><span class="j-name">:weld :frequency-hz</span><span class="j-args"><span class="j-arg"><span class="j-type">^float</span> value</span></span><div class="j-doc">The mass-spring-damper frequency in Hertz. Rotation only. Disable softness with a value of 0.</div></div><div class="j-item"><span class="j-name">:weld :local-anchor-a</span><span class="j-args"><span class="j-arg"><span class="j-type">^Vector2</span> value</span></span><div class="j-doc">The local anchor point relative to body1's origin.</div></div><div class="j-item"><span class="j-name">:weld :local-anchor-b</span><span class="j-args"><span class="j-arg"><span class="j-type">^Vector2</span> value</span></span><div class="j-doc">The local anchor point relative to body2's origin.</div></div><div class="j-item"><span class="j-name">:weld :reference-angle</span><span class="j-args"><span class="j-arg"><span class="j-type">^float</span> value</span></span><div class="j-doc">The body2 angle minus body1 angle in the reference state (radians).</div></div></div><div class="j-text">Rope joint definition. This requires two body anchor points and a maximum lengths. Note: by default the connected objects will
 not collide. see collideConnected in b2JointDef.</div><div class="java"><div class="j-item"><span class="j-name">:rope :local-anchor-a</span><span class="j-args"><span class="j-arg"><span class="j-type">^Vector2</span> value</span></span><div class="j-doc">The local anchor point relative to bodyA's origin.</div></div><div class="j-item"><span class="j-name">:rope :local-anchor-b</span><span class="j-args"><span class="j-arg"><span class="j-type">^Vector2</span> value</span></span><div class="j-doc">The local anchor point relative to bodyB's origin.</div></div><div class="j-item"><span class="j-name">:rope :max-length</span><span class="j-args"><span class="j-arg"><span class="j-type">^float</span> value</span></span><div class="j-doc">The maximum length of the rope. Warning: this must be larger than b2_linearSlop or the joint will have no effect.</div></div></div><div class="j-text">Revolute joint definition. This requires defining an anchor point where the bodies are joined. The definition uses local anchor
 points so that the initial configuration can violate the constraint slightly. You also need to specify the initial relative
 angle for joint limits. This helps when saving and loading a game. The local anchor points are measured from the body's origin
 rather than the center of mass because: 1. you might not know where the center of mass will be. 2. if you add/remove shapes
 from a body and recompute the mass, the joints will be broken.</div><div class="java"><div class="j-item"><span class="j-name">:revolute :enable-limit</span><span class="j-args"><span class="j-arg"><span class="j-type">^boolean</span> value</span></span><div class="j-doc">A flag to enable joint limits.</div></div><div class="j-item"><span class="j-name">:revolute :enable-motor</span><span class="j-args"><span class="j-arg"><span class="j-type">^boolean</span> value</span></span><div class="j-doc">A flag to enable the joint motor.</div></div><div class="j-item"><span class="j-name">:revolute :local-anchor-a</span><span class="j-args"><span class="j-arg"><span class="j-type">^Vector2</span> value</span></span><div class="j-doc">The local anchor point relative to body1's origin.</div></div><div class="j-item"><span class="j-name">:revolute :local-anchor-b</span><span class="j-args"><span class="j-arg"><span class="j-type">^Vector2</span> value</span></span><div class="j-doc">The local anchor point relative to body2's origin.</div></div><div class="j-item"><span class="j-name">:revolute :lower-angle</span><span class="j-args"><span class="j-arg"><span class="j-type">^float</span> value</span></span><div class="j-doc">The lower angle for the joint limit (radians).</div></div><div class="j-item"><span class="j-name">:revolute :max-motor-torque</span><span class="j-args"><span class="j-arg"><span class="j-type">^float</span> value</span></span><div class="j-doc">The maximum motor torque used to achieve the desired motor speed. Usually in N-m.</div></div><div class="j-item"><span class="j-name">:revolute :motor-speed</span><span class="j-args"><span class="j-arg"><span class="j-type">^float</span> value</span></span><div class="j-doc">The desired motor speed. Usually in radians per second.</div></div><div class="j-item"><span class="j-name">:revolute :reference-angle</span><span class="j-args"><span class="j-arg"><span class="j-type">^float</span> value</span></span><div class="j-doc">The body2 angle minus body1 angle in the reference state (radians).</div></div><div class="j-item"><span class="j-name">:revolute :upper-angle</span><span class="j-args"><span class="j-arg"><span class="j-type">^float</span> value</span></span><div class="j-doc">The upper angle for the joint limit (radians).</div></div></div><div class="j-text">Pulley joint definition. This requires two ground anchors, two dynamic body anchor points, max lengths for each side, and a
 pulley ratio.</div><div class="java"><div class="j-item"><span class="j-name">:pulley :ground-anchor-a</span><span class="j-args"><span class="j-arg"><span class="j-type">^Vector2</span> value</span></span><div class="j-doc">The first ground anchor in world coordinates. This point never moves.</div></div><div class="j-item"><span class="j-name">:pulley :ground-anchor-b</span><span class="j-args"><span class="j-arg"><span class="j-type">^Vector2</span> value</span></span><div class="j-doc">The second ground anchor in world coordinates. This point never moves.</div></div><div class="j-item"><span class="j-name">:pulley :length-a</span><span class="j-args"><span class="j-arg"><span class="j-type">^float</span> value</span></span><div class="j-doc">The a reference length for the segment attached to bodyA.</div></div><div class="j-item"><span class="j-name">:pulley :length-b</span><span class="j-args"><span class="j-arg"><span class="j-type">^float</span> value</span></span><div class="j-doc">The a reference length for the segment attached to bodyB.</div></div><div class="j-item"><span class="j-name">:pulley :local-anchor-a</span><span class="j-args"><span class="j-arg"><span class="j-type">^Vector2</span> value</span></span><div class="j-doc">The local anchor point relative to bodyA's origin.</div></div><div class="j-item"><span class="j-name">:pulley :local-anchor-b</span><span class="j-args"><span class="j-arg"><span class="j-type">^Vector2</span> value</span></span><div class="j-doc">The local anchor point relative to bodyB's origin.</div></div><div class="j-item"><span class="j-name">:pulley :ratio</span><span class="j-args"><span class="j-arg"><span class="j-type">^float</span> value</span></span><div class="j-doc">The pulley ratio, used to simulate a block-and-tackle.</div></div></div><div class="j-text">Prismatic joint definition. This requires defining a line of motion using an axis and an anchor point. The definition uses
 local anchor points and a local axis so that the initial configuration can violate the constraint slightly. The joint
 translation is zero when the local anchor points coincide in world space. Using local anchors and a local axis helps when
 saving and loading a game.</div><div class="java"><div class="j-item"><span class="j-name">:prismatic :enable-limit</span><span class="j-args"><span class="j-arg"><span class="j-type">^boolean</span> value</span></span><div class="j-doc">Enable/disable the joint limit.</div></div><div class="j-item"><span class="j-name">:prismatic :enable-motor</span><span class="j-args"><span class="j-arg"><span class="j-type">^boolean</span> value</span></span><div class="j-doc">Enable/disable the joint motor.</div></div><div class="j-item"><span class="j-name">:prismatic :local-anchor-a</span><span class="j-args"><span class="j-arg"><span class="j-type">^Vector2</span> value</span></span><div class="j-doc">The local anchor point relative to body1's origin.</div></div><div class="j-item"><span class="j-name">:prismatic :local-anchor-b</span><span class="j-args"><span class="j-arg"><span class="j-type">^Vector2</span> value</span></span><div class="j-doc">The local anchor point relative to body2's origin.</div></div><div class="j-item"><span class="j-name">:prismatic :local-axis-a</span><span class="j-args"><span class="j-arg"><span class="j-type">^Vector2</span> value</span></span><div class="j-doc">The local translation axis in body1.</div></div><div class="j-item"><span class="j-name">:prismatic :lower-translation</span><span class="j-args"><span class="j-arg"><span class="j-type">^float</span> value</span></span><div class="j-doc">The lower translation limit, usually in meters.</div></div><div class="j-item"><span class="j-name">:prismatic :max-motor-force</span><span class="j-args"><span class="j-arg"><span class="j-type">^float</span> value</span></span><div class="j-doc">The maximum motor torque, usually in N-m.</div></div><div class="j-item"><span class="j-name">:prismatic :motor-speed</span><span class="j-args"><span class="j-arg"><span class="j-type">^float</span> value</span></span><div class="j-doc">The desired motor speed in radians per second.</div></div><div class="j-item"><span class="j-name">:prismatic :reference-angle</span><span class="j-args"><span class="j-arg"><span class="j-type">^float</span> value</span></span><div class="j-doc">The constrained angle between the bodies: body2_angle - body1_angle.</div></div><div class="j-item"><span class="j-name">:prismatic :upper-translation</span><span class="j-args"><span class="j-arg"><span class="j-type">^float</span> value</span></span><div class="j-doc">The upper translation limit, usually in meters.</div></div></div><div class="j-text">Mouse joint definition. This requires a world target point, tuning parameters, and the time step.</div><div class="java"><div class="j-item"><span class="j-name">:mouse :damping-ratio</span><span class="j-args"><span class="j-arg"><span class="j-type">^float</span> value</span></span><div class="j-doc">The damping ratio. 0 = no damping, 1 = critical damping.</div></div><div class="j-item"><span class="j-name">:mouse :frequency-hz</span><span class="j-args"><span class="j-arg"><span class="j-type">^float</span> value</span></span><div class="j-doc">The response speed.</div></div><div class="j-item"><span class="j-name">:mouse :max-force</span><span class="j-args"><span class="j-arg"><span class="j-type">^float</span> value</span></span><div class="j-doc">The maximum constraint force that can be exerted to move the candidate body. Usually you will express as some multiple of
 the weight (multiplier * mass * gravity).</div></div><div class="j-item"><span class="j-name">:mouse :target</span><span class="j-args"><span class="j-arg"><span class="j-type">^Vector2</span> value</span></span><div class="j-doc">The initial world target point. This is assumed to coincide with the body anchor initially.</div></div></div><div class="j-text">Gear joint definition. This definition requires two existing revolute or prismatic joints (any combination will work). The
 provided joints must attach a dynamic body to a static body.</div><div class="java"><div class="j-item"><span class="j-name">:gear :joint1</span><span class="j-args"><span class="j-arg"><span class="j-type">^Joint</span> value</span></span><div class="j-doc">The first revolute/prismatic joint attached to the gear joint.</div></div><div class="j-item"><span class="j-name">:gear :joint2</span><span class="j-args"><span class="j-arg"><span class="j-type">^Joint</span> value</span></span><div class="j-doc">The second revolute/prismatic joint attached to the gear joint.</div></div><div class="j-item"><span class="j-name">:gear :ratio</span><span class="j-args"><span class="j-arg"><span class="j-type">^float</span> value</span></span><div class="j-doc">The gear ratio.</div></div></div><div class="j-text">Friction joint definition.</div><div class="java"><div class="j-item"><span class="j-name">:friction :local-anchor-a</span><span class="j-args"><span class="j-arg"><span class="j-type">^Vector2</span> value</span></span><div class="j-doc">The local anchor point relative to bodyA's origin.</div></div><div class="j-item"><span class="j-name">:friction :local-anchor-b</span><span class="j-args"><span class="j-arg"><span class="j-type">^Vector2</span> value</span></span><div class="j-doc">The local anchor point relative to bodyB's origin.</div></div><div class="j-item"><span class="j-name">:friction :max-force</span><span class="j-args"><span class="j-arg"><span class="j-type">^float</span> value</span></span><div class="j-doc">The maximum friction force in N.</div></div><div class="j-item"><span class="j-name">:friction :max-torque</span><span class="j-args"><span class="j-arg"><span class="j-type">^float</span> value</span></span><div class="j-doc">The maximum friction torque in N-m.</div></div></div><div class="j-text">Distance joint definition. This requires defining an anchor point on both bodies and the non-zero length of the distance joint.
 The definition uses local anchor points so that the initial configuration can violate the constraint slightly. This helps when
 saving and loading a game.</div><div class="java"><div class="j-item"><span class="j-name">:distance :damping-ratio</span><span class="j-args"><span class="j-arg"><span class="j-type">^float</span> value</span></span><div class="j-doc">The damping ratio. 0 = no damping, 1 = critical damping.</div></div><div class="j-item"><span class="j-name">:distance :frequency-hz</span><span class="j-args"><span class="j-arg"><span class="j-type">^float</span> value</span></span><div class="j-doc">The mass-spring-damper frequency in Hertz.</div></div><div class="j-item"><span class="j-name">:distance :length</span><span class="j-args"><span class="j-arg"><span class="j-type">^float</span> value</span></span><div class="j-doc">The natural length between the anchor points.</div></div><div class="j-item"><span class="j-name">:distance :local-anchor-a</span><span class="j-args"><span class="j-arg"><span class="j-type">^Vector2</span> value</span></span><div class="j-doc">The local anchor point relative to body1's origin.</div></div><div class="j-item"><span class="j-name">:distance :local-anchor-b</span><span class="j-args"><span class="j-arg"><span class="j-type">^Vector2</span> value</span></span><div class="j-doc">The local anchor point relative to body2's origin.</div></div></div><div class="c-head">Source</div><div class="c-src"><pre>(defmacro joint-def
  [k & options]
  `(let [object# (~(joint-init k))]
     (u/fields! object# ~@options)))</pre></div></div></div><script src="highlight.js"></script><script src="main.js"></script></body></html>